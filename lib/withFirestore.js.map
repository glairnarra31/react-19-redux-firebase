{"version":3,"file":"withFirestore.js","names":["withFirestore","WrappedComponent","WithFirestore","props","_react","default","createElement","_ReactReduxFirebaseContext","Consumer","firebase","_ReduxFirestoreContext","firestore","_extends","dispatch","displayName","wrapDisplayName","wrappedComponent","hoistStatics","module","exports"],"sources":["../src/withFirestore.js"],"sourcesContent":["import React from 'react'\nimport hoistStatics from 'hoist-non-react-statics'\nimport { wrapDisplayName } from './utils'\nimport ReactReduxFirebaseContext from './ReactReduxFirebaseContext'\nimport ReduxFirestoreContext from './ReduxFirestoreContext'\n\n/**\n * @augments React.Component\n * @description Higher Order Component that attaches `firestore`, `firebase`\n * and `dispatch` as props to React Components.\n * @param {React.Component} WrappedComponent - React component to wrap\n * @returns {Function} - Which accepts a component to wrap and returns the\n * wrapped component\n * @see http://react-redux-firebase.com/docs/api/withFirestore.html\n * @example <caption>Basic</caption>\n * import React from 'react'\n * import { withFirestore } from 'react-redux-firebase'\n *\n * function AddTodo({ firestore: { add } }) {\n *   return (\n *     <div>\n *       <button onClick={() => add('todos', { done: false, text: 'Sample' })}>\n *         Add Sample Todo\n *       </button>\n *     </div>\n *   )\n * }\n *\n * export default withFirestore(AddTodo)\n * @example <caption>Within HOC Composition</caption>\n * import React from 'react'\n * import { compose } from 'redux' // can also come from recompose\n * import { withHandlers } from 'recompose'\n * import { withFirestore } from 'react-redux-firebase'\n *\n * function AddTodo({ addTodo }) {\n *   return (\n *     <div>\n *       <button onClick={addTodo}>\n *         Add Sample Todo\n *       </button>\n *     </div>\n *   )\n * }\n *\n * const enhance = compose(\n *   withFirestore,\n *   withHandlers({\n *     addTodo: props => () => {\n *       const newTodo = { done: false, text: 'Sample' }\n *       return props.firestore.add({ collection: 'todos' }, newTodo)\n *     }\n *   })\n * )\n *\n * export default enhance(AddTodo)\n */\nexport default function withFirestore(WrappedComponent) {\n  /**\n   * WithFirebase wrapper component\n   * @param {object} props - Component props\n   * @returns {React.Component} WrappedComponent wrapped with firebase context\n   */\n  function WithFirestore(props) {\n    return (\n      <ReactReduxFirebaseContext.Consumer>\n        {(firebase) => (\n          <ReduxFirestoreContext.Consumer>\n            {(firestore) => (\n              <WrappedComponent\n                firestore={firestore}\n                firebase={firebase}\n                dispatch={firebase.dispatch}\n                {...props}\n              />\n            )}\n          </ReduxFirestoreContext.Consumer>\n        )}\n      </ReactReduxFirebaseContext.Consumer>\n    )\n  }\n\n  WithFirestore.displayName = wrapDisplayName(WrappedComponent, 'withFirestore')\n  WithFirestore.wrappedComponent = WrappedComponent\n\n  return hoistStatics(WithFirestore, WrappedComponent)\n}\n"],"mappings":"+tBAyDe,QAAS,CAAAA,aAAaA,CAACC,gBAAgB,CAAE,CAMtD,QAAS,CAAAC,aAAaA,CAACC,KAAK,CAAE,CAC5B,MACE,CAAAC,MAAA,CAAAC,OAAA,CAAAC,aAAA,CAACC,0BAAA,CAAAF,OAAyB,CAACG,QAAQ,MAChC,SAACC,QAAQ,QACR,CAAAL,MAAA,CAAAC,OAAA,CAAAC,aAAA,CAACI,sBAAA,CAAAL,OAAqB,CAACG,QAAQ,MAC5B,SAACG,SAAS,QACT,CAAAP,MAAA,CAAAC,OAAA,CAAAC,aAAA,CAACL,gBAAgB,CAAAW,QAAA,EACfD,SAAS,CAAEA,SAAU,CACrBF,QAAQ,CAAEA,QAAS,CACnBI,QAAQ,CAAEJ,QAAQ,CAACI,QAAS,EACxBV,KAAK,CACV,CAAC,CAE0B,CAAC,CAED,CAExC,CAKA,MAHA,CAAAD,aAAa,CAACY,WAAW,CAAG,GAAAC,sBAAe,EAACd,gBAAgB,CAAE,eAAe,CAAC,CAC9EC,aAAa,CAACc,gBAAgB,CAAGf,gBAAgB,CAE1C,GAAAgB,6BAAY,EAACf,aAAa,CAAED,gBAAgB,CACrD,CAACiB,MAAA,CAAAC,OAAA,CAAAA,OAAA,CAAAd,OAAA","ignoreList":[]}